{"remainingRequest":"/Users/yujunjiang/Documents/GitHub/a-different-game/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/yujunjiang/Documents/GitHub/a-different-game/src/components/USRevChart.vue?vue&type=template&id=0d01f4e6&scoped=true","dependencies":[{"path":"/Users/yujunjiang/Documents/GitHub/a-different-game/src/components/USRevChart.vue","mtime":1619669797393},{"path":"/Users/yujunjiang/Documents/GitHub/a-different-game/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yujunjiang/Documents/GitHub/a-different-game/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yujunjiang/Documents/GitHub/a-different-game/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yujunjiang/Documents/GitHub/a-different-game/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Users/yujunjiang/Documents/GitHub/a-different-game/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yujunjiang/Documents/GitHub/a-different-game/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdj4KICAgIDxDaGFydFRpdGxlPk1vbnRobHkgcmV2ZW51ZSBvZiB0aGUgVS5TLiB2aWRlbyBnYW1lIGluZHVzdHJ5IDIwMTktMjAyMTwvQ2hhcnRUaXRsZT4KICAgIDxkaXYgY2xhc3M9ImNoYXJ0LWJvZHkiIHJlZj0iY29udGFpbmVyIj4KICAgICAgPHN2ZyAKICAgICAgICA6dmlld0JveD0iYDAgMCAke3dpZHRofSAke2hlaWdodH1gIgogICAgICAgIHJlZj0ic3ZnIgogICAgICAgIEBtb3VzZW1vdmU9Im1vdmVkIgogICAgICAgIEBtb3VzZWVudGVyPSJlbnRlcmVkIgogICAgICAgIEBtb3VzZWxlYXZlPSJsZWZ0IgogICAgICA+CiAgICAgICAgPENoYXJ0WEF4aXMKICAgICAgICAgIDp4PSJ4IgogICAgICAgICAgOnRpY2stdmFsdWVzPSJ4VGlja1ZhbHVlcyIKICAgICAgICAgIDp0aWNrLWZvcm1hdD0ieFRpY2tGb3JtYXQiCiAgICAgICAgICA6dHJhbnNmb3JtPSJgdHJhbnNsYXRlKDAsJHtoZWlnaHQgLSBtYXJnaW4uYm90dG9tfSlgIgogICAgICAgIC8+CiAgICAgICAgPENoYXJ0WUF4aXMKICAgICAgICAgIDp5PSJ5IgogICAgICAgICAgOnRyYW5zZm9ybT0iYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwwKWAiCiAgICAgICAgLz4KICAgICAgICA8Zz4KICAgICAgICAgIDxnIHYtZm9yPSJzIGluIHNlcmllcyIgOmtleT0icy5uYW1lIiA6Y2xhc3M9InMubmFtZSI+CiAgICAgICAgICAgIDxwYXRoCiAgICAgICAgICAgICAgZmlsbD0ibm9uZSIKICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9IjIiCiAgICAgICAgICAgICAgc3Ryb2tlPSJjdXJyZW50Q29sb3IiCiAgICAgICAgICAgICAgOmQ9ImxpbmVHZW5lcmF0b3Iocy52YWx1ZXMpIgogICAgICAgICAgICA+PC9wYXRoPgogICAgICAgICAgICA8Y2lyY2xlCiAgICAgICAgICAgICAgdi1mb3I9Iih2LCBpKSBpbiBzLnZhbHVlcyIKICAgICAgICAgICAgICA6a2V5PSJpIgogICAgICAgICAgICAgIDpjeD0ieChpKSIKICAgICAgICAgICAgICA6Y3k9InkodikiCiAgICAgICAgICAgICAgcj0iNSIKICAgICAgICAgICAgICBmaWxsPSIjZmZmZmZmIgogICAgICAgICAgICAgIHN0cm9rZS13aWR0aD0iMiIKICAgICAgICAgICAgICBzdHJva2U9ImN1cnJlbnRDb2xvciIKICAgICAgICAgICAgPjwvY2lyY2xlPgogICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgICAgICA8bGluZQogICAgICAgICAgc3Ryb2tlPSJjdXJyZW50Q29sb3IiCiAgICAgICAgICBzdHJva2UtZGFzaGFycmF5PSIzIDQiCiAgICAgICAgICA6eTE9Im1hcmdpbi50b3AiCiAgICAgICAgICA6eTI9ImhlaWdodCAtIG1hcmdpbi5ib3R0b20iCiAgICAgICAgICA6dHJhbnNmb3JtPSJgdHJhbnNsYXRlKCR7dG9vbHRpcFh9LDApYCIKICAgICAgICA+PC9saW5lPgogICAgICA8L3N2Zz4KICAgICAgPENoYXJ0VG9vbHRpcAogICAgICAgIDpib3VuZHMtd2lkdGg9IndpZHRoIgogICAgICAgIDp4PSJ0b29sdGlwWCIKICAgICAgICA6eT0idG9vbHRpcFkiCiAgICAgICAgOnNob3c9InRvb2x0aXBTaG93IgogICAgICA+CiAgICAgICAgPGRpdiB2LWlmPSJ0b29sdGlwSSAhPT0gbnVsbCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b29sdGlwLWl0ZW0gdG9vbHRpcC10aXRsZSI+e3sgZGF0ZXNbdG9vbHRpcEldIH19PC9kaXY+CiAgICAgICAgICA8ZGl2IHYtZm9yPSJzIGluIHNlcmllcyIgOmtleT0icy5uYW1lIiBjbGFzcz0idG9vbHRpcC1pdGVtIj4KICAgICAgICAgICAgPGRpdiA6Y2xhc3M9InMubmFtZSIgY2xhc3M9InRvb2x0aXAtbmFtZSI+e3sgcy5uYW1lIH19PC9kaXY+CiAgICAgICAgICAgIDxkaXY+e3sgZm9ybWF0VmFsdWUocy52YWx1ZXNbdG9vbHRpcEldKSB9fTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvQ2hhcnRUb29sdGlwPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/yujunjiang/Documents/GitHub/a-different-game/src/components/USRevChart.vue"],"names":[],"mappings":"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","file":"/Users/yujunjiang/Documents/GitHub/a-different-game/src/components/USRevChart.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <ChartTitle>Monthly revenue of the U.S. video game industry 2019-2021</ChartTitle>\n    <div class=\"chart-body\" ref=\"container\">\n      <svg \n        :viewBox=\"`0 0 ${width} ${height}`\"\n        ref=\"svg\"\n        @mousemove=\"moved\"\n        @mouseenter=\"entered\"\n        @mouseleave=\"left\"\n      >\n        <ChartXAxis\n          :x=\"x\"\n          :tick-values=\"xTickValues\"\n          :tick-format=\"xTickFormat\"\n          :transform=\"`translate(0,${height - margin.bottom})`\"\n        />\n        <ChartYAxis\n          :y=\"y\"\n          :transform=\"`translate(${margin.left},0)`\"\n        />\n        <g>\n          <g v-for=\"s in series\" :key=\"s.name\" :class=\"s.name\">\n            <path\n              fill=\"none\"\n              stroke-width=\"2\"\n              stroke=\"currentColor\"\n              :d=\"lineGenerator(s.values)\"\n            ></path>\n            <circle\n              v-for=\"(v, i) in s.values\"\n              :key=\"i\"\n              :cx=\"x(i)\"\n              :cy=\"y(v)\"\n              r=\"5\"\n              fill=\"#ffffff\"\n              stroke-width=\"2\"\n              stroke=\"currentColor\"\n            ></circle>\n          </g>\n        </g>\n        <line\n          stroke=\"currentColor\"\n          stroke-dasharray=\"3 4\"\n          :y1=\"margin.top\"\n          :y2=\"height - margin.bottom\"\n          :transform=\"`translate(${tooltipX},0)`\"\n        ></line>\n      </svg>\n      <ChartTooltip\n        :bounds-width=\"width\"\n        :x=\"tooltipX\"\n        :y=\"tooltipY\"\n        :show=\"tooltipShow\"\n      >\n        <div v-if=\"tooltipI !== null\">\n          <div class=\"tooltip-item tooltip-title\">{{ dates[tooltipI] }}</div>\n          <div v-for=\"s in series\" :key=\"s.name\" class=\"tooltip-item\">\n            <div :class=\"s.name\" class=\"tooltip-name\">{{ s.name }}</div>\n            <div>{{ formatValue(s.values[tooltipI]) }}</div>\n          </div>\n        </div>\n      </ChartTooltip>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { json, scaleLinear, min, max, line, range, pointer } from \"d3\";\nimport ChartTitle from \"./ChartTitle.vue\";\nimport ChartXAxis from \"./ChartXAxis.vue\";\nimport ChartYAxis from \"./ChartYAxis.vue\";\nimport ChartTooltip from \"./ChartTooltip.vue\";\n\nexport default {\n  components: {\n    ChartTitle,\n    ChartXAxis,\n    ChartYAxis,\n    ChartTooltip\n  },\n  data() {\n    return {\n      dates: [],\n      series: [],\n      minValue: 0,\n      maxValue: 0,\n      width: 300,\n      height: 400,\n      margin: {\n        top: 10,\n        right: 5,\n        bottom: 60,\n        left: 30\n      },\n      tooltipI: null,\n      tooltipY: 0,\n      tooltipShow: false\n    }\n  },\n  computed: {\n    x() {\n      return scaleLinear()\n        .domain([-1, this.dates.length])\n        .range([this.margin.left, this.width - this.margin.right]);\n    },\n    y() {\n      return scaleLinear()\n        .domain([this.minValue, this.maxValue])\n        .range([this.height - this.margin.bottom, this.margin.top])\n        .nice();\n    },\n    lineGenerator() {\n      return line()\n        .x((d, i) => this.x(i))\n        .y(d => this.y(d));\n    },\n    xTickValues() {\n      return range(0, this.dates.length);\n    },\n    xTickFormat() {\n      return (i) => this.dates[i];\n    },\n    tooltipX() {\n      return this.tooltipShow && this.tooltipI !== null ? this.x(this.tooltipI) : -999;\n    }\n  },\n  created() {\n    json('usvideogame_revenue.json')\n    .then(data => {\n      this.dates = data.map(d => d.date);\n      this.series = [\"total\", \"hardware\", \"software\", \"accessories\"].map(s => ({\n        name: s,\n        values: data.map(d => d[s] === \"-\" ? d[\"game_content\"] : d[s])\n      }));\n      this.minValue = min(this.series, s => min(s.values));\n      this.maxValue = max(this.series, s => max(s.values));\n    });\n  },\n  mounted() {\n    this.resize();\n    window.addEventListener(\"resize\", this.resize);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"resize\", this.resize);\n  },\n  methods: {\n    resize() {\n      this.width = this.$refs.container.clientWidth;\n    },\n    moved(event) {\n      const p = pointer(event, this.$refs.svg);\n      const xm = this.x.invert(p[0]);\n      const i = Math.min(Math.max(0, Math.round(xm)), this.dates.length - 1);\n      if (i !== this.tooltipI) {\n        this.tooltipI = i;\n      }\n    },\n    entered() {\n      this.tooltipShow = true;\n    },\n    left() {\n      this.tooltipShow = false;\n      this.tooltipI = null;\n    },\n    formatValue(v) {\n      return `$ ${v.toFixed(2)}B`\n    }\n  }\n}\n</script>\n\n<style scoped>\n.chart-body {\n  position: relative;\n}\n.total {\n  color: #9146ff;\n}\n.hardware {\n  color: #f92772;\n}\n.software {\n  color: #00e4c9;\n}\n.accessories {\n  color: #cfc468;\n}\n</style>"]}]}